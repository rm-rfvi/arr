---
version: "3"
networks:
  net_flaresolverr:
  net_whisparr:
  net_jackett:
  net_sonarr:
  net_radarr:
  net_lidarr:
  net_requestrr:
  net_qbittorrent:
  net_ombi:
  net_sabnzbd:
  net_prowlarr:
  net_rutorrent:
  net_watchtower:
  net_portainer:
  net_bazarr:
  net_overseer:
  net_notifiarr:
  net_nzbhydra2:
  net_readarr:
volumes:
  vol_downloads:
    driver: local
    driver_opts:
      type: none
      device: /mnt/download
      o: bind
  vol_media:
    driver: local
    driver_opts:
      type: none
      device: /mnt/media
      o: bindz
  vol_whisparr:
    driver: local
    driver_opts:
      type: none
      device: /opt/docker/run/whisparr
      o: bind

  vol_flaresolverr:
    driver: local
    driver_opts:
      type: none
      device: /opt/docker/run/flaresolverr
      o: bind
  vol_jackett:
    driver: local
    driver_opts:
      type: none
      device: /opt/docker/run/jackett
      o: bind
  vol_sonarr:
    driver: local
    driver_opts:
      type: none
      device: /opt/docker/run/sonarr
      o: bind
  vol_radarr:
    driver: local
    driver_opts:
      type: none
      device: /opt/docker/run/radarr
      o: bind
  vol_lidarr:
    driver: local
    driver_opts:
      type: none
      device: /opt/docker/run/lidarr
      o: bind
  vol_requestrr:
    driver: local
    driver_opts:
      type: none
      device: /opt/docker/run/requestrr
      o: bind
  vol_qbittorrent:
    driver: local
    driver_opts:
      type: none
      device: /opt/docker/run/qbittorrent
      o: bind
  vol_ombi:
    driver: local
    driver_opts:
      type: none
      device: /opt/docker/run/ombi
      o: bind
  vol_sabnzbd:
    driver: local
    driver_opts:
      type: none
      device: /opt/sabnzbd
      o: bind
  vol_prowlarr:
    driver: local
    driver_opts:
      type: none
      device: /opt/docker/run/prowlarr
      o: bind
  vol_rutorrent:
    driver: local
    driver_opts:
      type: none
      device: /opt/rutorrent
      o: bind
  vol_watchtower:
    driver: local
    driver_opts:
      type: none
      device: /opt/watchtower
      o: bind
  vol_nginx:
    driver: local
    driver_opts:
      type: none
      device: /opt/nginx
      o: bind
  vol_portainer:
    driver: local
    driver_opts:
      type: none
      device: /opt/docker/run/portainer
      o: bind
  vol_bazarr:
    driver: local
    driver_opts:
      type: none
      device: /opt/bazarr
      o: bind
  vol_overseerr:
    driver: local
    driver_opts:
      type: none
      device: /opt/docker/run/overseerr
      o: bind
  vol_notifiarr:
    driver: local
    driver_opts:
      type: none
      device: /opt/docker/run/notifiarr
      o: bind
  vol_notifiarr_tmp:
    driver: local
    driver_opts:
      type: none
      device: /opt/docker/tmp/notifiarr
      o: bind
  vol_nzbhydra2:
    driver: local
    driver_opts:
      type: none
      device: /opt/docker/run/nzbhydra2
      o: bind
  vol_readarr:
    driver: local
    driver_opts:
      type: none
      device: /opt/docker/run/readarr
      o: bind
services:
 nginx-base:
    image: nginx:latest
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Adelaide
      - UMASK_SET=022
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - /etc/timezone:/etc/timezone:ro
      - vol_nginx:/etc/nginx/conf.d/:ro
    ports:
      - 80:80
      - 443:443
    networks:
      - net_sonarr
      - net_flaresolverr
      - net_jackett
      - net_radarr
      - net_prowlarr
      - net_lidarr
      - net_ombi
      - net_requestrr
      - net_portainer
      - net_bazarr
      - net_overseer
      - net_notifiarr
      - net_nzbhydra2
      - net_readarr
      - net_sabnzbd
      - net_whisparr
    labels:
      - com.centurylinklabs.watchtower.enable=true
 watchtower:
    image: containrrr/watchtower
    restart: always
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - /etc/timezone:/etc/timezone:ro
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Adelaide
      - UMASK_SET=022
      - WATCHTOWER_CLEANUP=true
      - WATCHTOWER_LABEL_ENABLE=true
      - WATCHTOWER_INCLUDE_RESTARTING=true
    networks:
      net_watchtower:
    labels:
      - com.centurylinklabs.watchtower.enable=true
 flaresolverr:
    image: ghcr.io/flaresolverr/flaresolverr:latest
    container_name: flaresolverr
    environment:
      - LOG_LEVEL=${LOG_LEVEL:-info}
      - LOG_HTML=${LOG_HTML:-false}
      - CAPTCHA_SOLVER=${CAPTCHA_SOLVER:-none}
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Adelaide
      - UMASK_SET=022
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - /etc/timezone:/etc/timezone:ro
    networks:
      net_flaresolverr:
    restart: always
    labels:
      - com.centurylinklabs.watchtower.enable=true
 jackett:
    image: linuxserver/jackett
    container_name: jackett
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Adelaide
      - AUTO_UPDATE=true
      - RUN_OPTS=run options here
    volumes:
      - vol_jackett:/config
      - /etc/localtime:/etc/localtime:ro
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - /etc/timezone:/etc/timezone:ro
    networks:
      net_jackett:
    restart: always
    labels:
      - com.centurylinklabs.watchtower.enable=true
 prowlarr:
    image: lscr.io/linuxserver/prowlarr:latest
    container_name: prowlarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Adelaide
      - UMASK_SET=022
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - /etc/timezone:/etc/timezone:ro
      - vol_prowlarr:/config
    networks:
      net_prowlarr:
    restart: always
    labels:
      - com.centurylinklabs.watchtower.enable=true
 readarr:
    container_name: readarr
    image: cr.hotio.dev/hotio/readarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Adelaide
      - UMASK_SET=022
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - /etc/timezone:/etc/timezone:ro
      - vol_downloads:/downloads
      - vol_readarr:/config
    networks:
      net_readarr:
    restart: always
    labels:
      - com.centurylinklabs.watchtower.enable=true
 sonarr:
    image: linuxserver/sonarr
    container_name: sonarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Adelaide
      - UMASK_SET=022
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - /etc/timezone:/etc/timezone:ro
      - vol_sonarr:/config
      - vol_media:/media
      - vol_downloads:/downloads
    networks:
      net_sonarr:
    restart: always
    labels:
      - com.centurylinklabs.watchtower.enable=true
 radarr:
    image: linuxserver/radarr
    container_name: radarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Adelaide
      - UMASK_SET=022
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - /etc/timezone:/etc/timezone:ro
      - vol_radarr:/config
      - vol_media:/media
      - vol_downloads:/downloads
    networks:
      net_radarr:
    restart: always
    labels:
      - com.centurylinklabs.watchtower.enable=true
 lidarr:
    image: linuxserver/lidarr
    container_name: lidarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Adelaide
      - UMASK_SET=022
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - /etc/timezone:/etc/timezone:ro
      - vol_lidarr:/config
      - vol_media:/media
      - vol_downloads:/downloads
    networks:
      net_lidarr:
    restart: always
    labels:
      - com.centurylinklabs.watchtower.enable=true
 ombi:
    image: lscr.io/linuxserver/ombi:latest
    container_name: ombi
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Adelaide
      - UMASK_SET=022
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - /etc/timezone:/etc/timezone:ro
      - vol_ombi:/config
    networks:
      net_ombi:
    restart: always
    labels:
      - com.centurylinklabs.watchtower.enable=true
 requestrr:
    image: lscr.io/linuxserver/requestrr:latest
    container_name: requestrr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Adelaide
      - UMASK_SET=022
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - /etc/timezone:/etc/timezone:ro
      - vol_requestrr:/config
    networks:
      net_requestrr:
    restart: always
    labels:
      - com.centurylinklabs.watchtower.enable=true
 bazarr:
    image: lscr.io/linuxserver/bazarr:latest
    container_name: bazarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Adelaide
      - UMASK_SET=022
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - /etc/timezone:/etc/timezone:ro
      - vol_bazarr:/config
      - vol_media:/media
    networks:
      net_bazarr:
    restart: always
    labels:
      - com.centurylinklabs.watchtower.enable=true
 overseerr:
    image: lscr.io/linuxserver/overseerr:latest
    container_name: overseerr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Adelaide
      - UMASK_SET=022
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - /etc/timezone:/etc/timezone:ro
      - vol_overseerr:/config
    networks:
      net_overseer:
    restart: always
    labels:
      - com.centurylinklabs.watchtower.enable=true
 notifiarr:
    container_name: notifiarr
    hostname: notifiarr
    image: golift/notifiarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Adelaide
      - UMASK_SET=022
    restart: always
    networks:
      net_notifiarr:
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - /etc/timezone:/etc/timezone:ro
      - /etc/machine-id:/etc/machine-id
      - vol_notifiarr:/config
      - vol_notifiarr_tmp:/var/run/utmp
    labels:
      - com.centurylinklabs.watchtower.enable=true
 nzbhydra2:
    image: lscr.io/linuxserver/nzbhydra2:latest
    container_name: nzbhydra2
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Adelaide
      - UMASK_SET=022
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - /etc/timezone:/etc/timezone:ro
      - vol_nzbhydra2:/config
      - vol_downloads:/downloads
    networks:
      net_nzbhydra2:
    restart: always
    labels:
      - com.centurylinklabs.watchtower.enable=true
 sabnzbd:
    image: lscr.io/linuxserver/sabnzbd:latest
    container_name: sabnzbd
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Adelaide
      - UMASK_SET=022
    volumes:
      - vol_sabnzbd:/config
      - vol_downloads:/downloads
    networks:
     net_sabnzbd:
    labels:
      - com.centurylinklabs.watchtower.enable=true
 whisparr:
    container_name: whisparr
    image: cr.hotio.dev/hotio/whisparr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Adelaide
      - UMASK_SET=022
    volumes:
      - vol_whisparr:/config
    networks:
     net_whisparr:
    labels:
      - com.centurylinklabs.watchtower.enable=true
  image: binhex/arch-qbittorrentvpn
  cap_add:
    - NET_ADMIN
  devices:
    - /dev/net/tun
    networks:
      net_watchtower:
  volumes:
    - /etc/localtime:/etc/localtime:ro
    - vol_qbittorrent:/config
    - vol_downloads:/data
  environment:
    - PUID=1001
    - PGID=1001
    - VPN_ENABLED=yes
    - VPN_PROV=pia
    - VPN_CLIENT=openvpn
    - VPN_USER=p8188981
    - VPN_PASS=cR!PPL3S!
    - STRICT_PORT_FORWARD=yes
    - ENABLE_PRIVOXY=yes
    - WEBUI_PORT=8080
    - LAN_NETWORK=10.0.0.0/8
  restart: unless-stopped
  labels:
   - "com.centurylinklabs.watchtower.enable=true"
 qbittorrent:
  image: binhex/arch-qbittorrentvpn
  cap_add:
    - NET_ADMIN
  devices:
    - /dev/net/tun
    networks:
      net_watchtower:
  volumes:
    - /etc/localtime:/etc/localtime:ro
    - vol_qbittorrent:/config
    - vol_downloads:/data
  environment:
    - PUID=1001
    - PGID=1001
    - VPN_ENABLED=yes
    - VPN_PROV=pia
    - VPN_CLIENT=openvpn
    - VPN_USER=p8188981
    - VPN_PASS=cR!PPL3S!
    - STRICT_PORT_FORWARD=yes
    - ENABLE_PRIVOXY=yes
    - WEBUI_PORT=8080
    - LAN_NETWORK=10.0.0.0/8
  restart: unless-stopped
  labels:
   - "com.centurylinklabs.watchtower.enable=true"
